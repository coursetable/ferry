# Ferry
A crawler for Yale courses and evaluation data. Integrates with Coursetable.

## Setup
Run `poetry install` to setup the virtualenv, install dependencies, and bootstrap the project. 

- **Note**: we use the `graphviz` module to generate schema graphs, which requires additional libraries to be installed. On macOS, run `brew install graphviz`, and on Linux, run `sudo apt-get install python3.8-dev graphviz libgraphviz-dev pkg-config`.

Some of the intermediate JSON files generated by the crawler and migrator in `/api_output` take several hours to fetch from the Yale API and/or CourseTable. We have uploaded these compressed folders to a [Google Drive folder](https://drive.google.com/drive/u/1/folders/14wl5ibpeLTQaVHK-DNTfLUaWb1N7lY7M) for convenience with the `tar_and_upload.py`, which can be used for updating this folder.

## TODO
eventual
- automatically apply black and isort
- save the raw HTML from OCE in the evaluations crawler
- compatability layer shims for existing coursetable
- use poetry scripts for easier execution
- transition everything from /private to config_private.py
- add database config into config.py
- in `fetch_ratings.py`, change the courses list from `listings_with_extra_info.csv` to the outputs from `fetch_classes.py`

current:
- [kevin] rerun the full pipeline with a clean slate
